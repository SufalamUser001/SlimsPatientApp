<ion-header collapse="fade">
    <ion-toolbar>
      <ion-title> </ion-title>
    </ion-toolbar>
  </ion-header>
<ion-content [fullscreen]="true" class="ion-padding">
    <ion-header collapse="condense">
        <ion-toolbar>
        
            <ion-buttons>
                <ion-button fill="clear" (click)="onbackClick()" color="medium">
    
                    <ion-icon slot="start" name="chevron-back-outline"></ion-icon><span> Back</span>
                </ion-button>
            </ion-buttons>
        </ion-toolbar>
      </ion-header>

    <ion-row class="ion-padding gap-4">
        <ion-col size="12">
            <h1 class="text-4xl text-primary font-600 mt-4">Forgot Password</h1>
            @if(isOTPVerified){
                <p class="text-gray-600 mt-2 font-600">Please Set New Password</p>
            }
            @else {
                <p class="text-gray-600 mt-2 font-600">Please Enter Mobile For Verification</p>
            }
        </ion-col>

        @if(isOTPVerified){
            <ion-col size="12">
                <ion-input label="New Password" labelPlacement="stacked" fill="outline" inputmode="text" id="password" name="password"
                    mode="md"  [(ngModel)]="forgotPasswordObj.Password" placeholder="New Password" required="true" type="password"
                    maxlength="15" minlength="3">
                    <ion-input-password-toggle slot="end"></ion-input-password-toggle>
                </ion-input>
        </ion-col>
        <ion-col size="12">
            <ion-input label="Confirm Password" labelPlacement="stacked" fill="outline" inputmode="text" id="confirmPassword" name="ConfirmPassword"
                mode="md"  [(ngModel)]="forgotPasswordObj.ConfirmPassword" placeholder="Confirm Password" required="true" type="password"
                maxlength="15" minlength="3">
            </ion-input>
        </ion-col>
        }
        @else{
            <ion-col size="12">
                <ion-input label="Mobile" labelPlacement="stacked" fill="outline" inputmode="tel" id="input2" name="mobile"
                    mode="md" pattern="tel" [(ngModel)]="forgotPasswordObj.UserId" placeholder="Mobile" required="true" type="tel"
                    maxlength="10" minlength="10">
                </ion-input>
            </ion-col>
        }
        

        @if(!isOTPVerified){
            @if(!isOTPSentOnce){
                <ion-col size="12">
                    <ion-button expand="block" (click)="onSendOTPClick()">Send OTP</ion-button>
                </ion-col >
            }
            @else {
                <ion-col size="12">
                    <ion-input-otp length="6" pattern="[0-9]" type="text" [(ngModel)]="forgotPasswordObj.OTP"  name="forgotPasswordOtp" fill="outline" inputmode="numeric" > 
                    
                        Didn't get a code? <a (click)="onSendOTPClick()" [class.disabledDiv]="isDisableResendbtn">Resend the code</a> 
                    
                    </ion-input-otp>
                </ion-col>

                <ion-col size="12">
                    <ion-button expand="block" (click)="onValidateOTPClick()" >Verify And Proceed</ion-button>
                </ion-col >
            }
        }
        @else{
            <ion-col size="12">
                <ion-button expand="block" (click)="onResetPasswordClick()">Reset Password</ion-button>
            </ion-col >
        }
        
    </ion-row>
</ion-content>
